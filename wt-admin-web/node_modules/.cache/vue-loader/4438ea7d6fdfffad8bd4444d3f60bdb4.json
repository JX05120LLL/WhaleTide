{"remainingRequest":"D:\\code\\project\\WhaleTide-1\\WhaleTide\\wt-admin-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\code\\project\\WhaleTide-1\\WhaleTide\\wt-admin-web\\src\\views\\OrderDetail.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\code\\project\\WhaleTide-1\\WhaleTide\\wt-admin-web\\src\\views\\OrderDetail.vue","mtime":1747320972956},{"path":"D:\\code\\project\\WhaleTide-1\\WhaleTide\\wt-admin-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1747114802000},{"path":"D:\\code\\project\\WhaleTide-1\\WhaleTide\\wt-admin-web\\node_modules\\babel-loader\\lib\\index.js","mtime":1747114802000},{"path":"D:\\code\\project\\WhaleTide-1\\WhaleTide\\wt-admin-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1747114802000},{"path":"D:\\code\\project\\WhaleTide-1\\WhaleTide\\wt-admin-web\\node_modules\\vue-loader\\lib\\index.js","mtime":1747114802000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IGZldGNoT3JkZXIsIHNoaXBPcmRlciwgY29tcGxldGVPcmRlciB9IGZyb20gJ0AvYXBpL29yZGVyJwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdPcmRlckRldGFpbCcsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGxvYWRpbmc6IHRydWUsCiAgICAgIG9yZGVySWQ6IG51bGwsCiAgICAgIG9yZGVyRGF0YToge30sCiAgICAgIC8vIOWPkei0p+WvueivneahhgogICAgICBzaGlwRGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgIHNoaXBTdWJtaXR0aW5nOiBmYWxzZSwKICAgICAgc2hpcEZvcm06IHsKICAgICAgICBvcmRlcklkOiAnJywKICAgICAgICBzaGlwcGluZ0NvbXBhbnk6ICcnLAogICAgICAgIHRyYWNraW5nTnVtYmVyOiAnJywKICAgICAgICByZW1hcms6ICcnCiAgICAgIH0sCiAgICAgIHNoaXBSdWxlczogewogICAgICAgIHNoaXBwaW5nQ29tcGFueTogWwogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+mAieaLqeeJqea1geWFrOWPuCcsIHRyaWdnZXI6ICdjaGFuZ2UnIH0KICAgICAgICBdLAogICAgICAgIHRyYWNraW5nTnVtYmVyOiBbCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36L6T5YWl54mp5rWB5Y2V5Y+3JywgdHJpZ2dlcjogJ2JsdXInIH0sCiAgICAgICAgICB7IG1pbjogNSwgbWF4OiAzMCwgbWVzc2FnZTogJ+mVv+W6puWcqCA1IOWIsCAzMCDkuKrlrZfnrKYnLCB0cmlnZ2VyOiAnYmx1cicgfQogICAgICAgIF0KICAgICAgfQogICAgfQogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMub3JkZXJJZCA9IHRoaXMuJHJvdXRlLnBhcmFtcy5pZAogICAgdGhpcy5mZXRjaE9yZGVyRGV0YWlsKCkKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOiOt+WPluiuouWNleivpuaDhQogICAgZmV0Y2hPcmRlckRldGFpbCgpIHsKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZQogICAgICBmZXRjaE9yZGVyKHRoaXMub3JkZXJJZCkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgY29uc29sZS5sb2coJ+iuouWNleivpuaDheWTjeW6lDonLCByZXNwb25zZSkKICAgICAgICBpZiAocmVzcG9uc2UuY29kZSA9PT0gMjAwICYmIHJlc3BvbnNlLmRhdGEpIHsKICAgICAgICAgIHRoaXMub3JkZXJEYXRhID0gcmVzcG9uc2UuZGF0YQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfojrflj5borqLljZXor6bmg4XlpLHotKU6ICcgKyAocmVzcG9uc2UubWVzc2FnZSB8fCAn5pyq55+l6ZSZ6K+vJykpCiAgICAgICAgICB0aGlzLm9yZGVyRGF0YSA9IHt9CiAgICAgICAgfQogICAgICB9KS5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgY29uc29sZS5lcnJvcign6I635Y+W6K6i5Y2V6K+m5oOF6ZSZ6K+vOicsIGVycm9yKQogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+iOt+WPluiuouWNleivpuaDheWksei0pTogJyArIChlcnJvci5tZXNzYWdlIHx8ICfmnKrnn6XplJnor68nKSkKICAgICAgICB0aGlzLm9yZGVyRGF0YSA9IHt9CiAgICAgIH0pLmZpbmFsbHkoKCkgPT4gewogICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlCiAgICAgIH0pCiAgICB9LAogICAgLy8g6L+U5Zue5LiK5LiA6aG1CiAgICBnb0JhY2soKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvb3JkZXIvbGlzdCcpCiAgICB9LAogICAgLy8g5aSE55CG5Y+R6LSnCiAgICBoYW5kbGVTaGlwKCkgewogICAgICB0aGlzLnNoaXBGb3JtID0gewogICAgICAgIG9yZGVySWQ6IHRoaXMub3JkZXJEYXRhLmlkLAogICAgICAgIHNoaXBwaW5nQ29tcGFueTogJycsCiAgICAgICAgdHJhY2tpbmdOdW1iZXI6ICcnLAogICAgICAgIHJlbWFyazogJycKICAgICAgfQogICAgICB0aGlzLnNoaXBEaWFsb2dWaXNpYmxlID0gdHJ1ZQogICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgaWYgKHRoaXMuJHJlZnMuc2hpcEZvcm0pIHsKICAgICAgICAgIHRoaXMuJHJlZnMuc2hpcEZvcm0uY2xlYXJWYWxpZGF0ZSgpCiAgICAgICAgfQogICAgICB9KQogICAgfSwKICAgIC8vIOaPkOS6pOWPkei0p+ihqOWNlQogICAgc3VibWl0U2hpcEZvcm0oKSB7CiAgICAgIHRoaXMuJHJlZnMuc2hpcEZvcm0udmFsaWRhdGUoKHZhbGlkKSA9PiB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICB0aGlzLnNoaXBTdWJtaXR0aW5nID0gdHJ1ZQogICAgICAgICAgc2hpcE9yZGVyKHRoaXMub3JkZXJEYXRhLmlkLCB0aGlzLnNoaXBGb3JtKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgIHRoaXMuc2hpcERpYWxvZ1Zpc2libGUgPSBmYWxzZQogICAgICAgICAgICAgIHRoaXMuJG5vdGlmeSh7CiAgICAgICAgICAgICAgICB0aXRsZTogJ+aIkOWKnycsCiAgICAgICAgICAgICAgICBtZXNzYWdlOiAn6K6i5Y2V5Y+R6LSn5oiQ5YqfJywKICAgICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAyMDAwCiAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICB0aGlzLmZldGNoT3JkZXJEZXRhaWwoKSAvLyDliLfmlrDorqLljZXmlbDmja4KICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCforqLljZXlj5HotKflpLHotKU6ICcgKyAocmVzcG9uc2UubWVzc2FnZSB8fCAn5pyq55+l6ZSZ6K+vJykpCiAgICAgICAgICAgIH0KICAgICAgICAgIH0pLmNhdGNoKGVycm9yID0+IHsKICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign6K6i5Y2V5Y+R6LSn5aSx6LSlOiAnICsgKGVycm9yLm1lc3NhZ2UgfHwgJ+acquefpemUmeivrycpKQogICAgICAgICAgfSkuZmluYWxseSgoKSA9PiB7CiAgICAgICAgICAgIHRoaXMuc2hpcFN1Ym1pdHRpbmcgPSBmYWxzZQogICAgICAgICAgfSkKICAgICAgICB9CiAgICAgIH0pCiAgICB9LAogICAgLy8g5a6M5oiQ6K6i5Y2VCiAgICBoYW5kbGVDb21wbGV0ZSgpIHsKICAgICAgdGhpcy4kY29uZmlybSgn56Gu6K6k5bCG5q2k6K6i5Y2V5qCH6K6w5Li65bey5a6M5oiQPycsICfmj5DnpLonLCB7CiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLAogICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICB9KS50aGVuKCgpID0+IHsKICAgICAgICBjb21wbGV0ZU9yZGVyKHRoaXMub3JkZXJEYXRhLmlkKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgIGlmIChyZXNwb25zZS5jb2RlID09PSAyMDApIHsKICAgICAgICAgICAgdGhpcy4kbm90aWZ5KHsKICAgICAgICAgICAgICB0aXRsZTogJ+aIkOWKnycsCiAgICAgICAgICAgICAgbWVzc2FnZTogJ+iuouWNleW3suWujOaIkCcsCiAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLAogICAgICAgICAgICAgIGR1cmF0aW9uOiAyMDAwCiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIHRoaXMuZmV0Y2hPcmRlckRldGFpbCgpIC8vIOWIt+aWsOiuouWNleaVsOaNrgogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign5pON5L2c5aSx6LSlOiAnICsgKHJlc3BvbnNlLm1lc3NhZ2UgfHwgJ+acquefpemUmeivrycpKQogICAgICAgICAgfQogICAgICAgIH0pLmNhdGNoKGVycm9yID0+IHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+aTjeS9nOWksei0pTogJyArIChlcnJvci5tZXNzYWdlIHx8ICfmnKrnn6XplJnor68nKSkKICAgICAgICB9KQogICAgICB9KS5jYXRjaCgoKSA9PiB7CiAgICAgICAgLy8g5Y+W5raI5pON5L2c77yM5LiN5YGa5aSE55CGCiAgICAgIH0pCiAgICB9LAogICAgLy8g6I635Y+W5pSv5LuY5pa55byP5ZCN56ewCiAgICBnZXRQYXltZW50TWV0aG9kTmFtZShtZXRob2QpIHsKICAgICAgY29uc3QgbWV0aG9kTWFwID0gewogICAgICAgIGFsaXBheTogJ+aUr+S7mOWunScsCiAgICAgICAgd2VjaGF0OiAn5b6u5L+h5pSv5LuYJywKICAgICAgICBjcmVkaXRjYXJkOiAn5L+h55So5Y2hJywKICAgICAgICBjYXNoOiAn546w6YeRJywKICAgICAgICAwOiAn5pSv5LuY5a6dJywKICAgICAgICAxOiAn5b6u5L+h5pSv5LuYJywKICAgICAgICAyOiAn5L+h55So5Y2hJywKICAgICAgICAzOiAn546w6YeRJwogICAgICB9CiAgICAgIHJldHVybiBtZXRob2RNYXBbbWV0aG9kXSB8fCAn5pyq55+lJwogICAgfSwKICAgIC8vIOiOt+WPluiuouWNleeKtuaAgeWQjeensAogICAgZ2V0T3JkZXJTdGF0dXNOYW1lKHN0YXR1cykgewogICAgICBjb25zdCBzdGF0dXNNYXAgPSB7CiAgICAgICAgMDogJ+W+heaUr+S7mCcsCiAgICAgICAgMTogJ+W3suaUr+S7mCcsCiAgICAgICAgMjogJ+W3suWPkei0pycsCiAgICAgICAgMzogJ+W3suWujOaIkCcsCiAgICAgICAgNDogJ+W3suWPlua2iCcsCiAgICAgICAgNTogJ+W3sumAgOasvicKICAgICAgfQogICAgICByZXR1cm4gc3RhdHVzTWFwW3N0YXR1c10gfHwgJ+acquefpeeKtuaAgScKICAgIH0sCiAgICAvLyDojrflj5borqLljZXnirbmgIHnsbvlnosKICAgIGdldE9yZGVyU3RhdHVzVHlwZShzdGF0dXMpIHsKICAgICAgY29uc3Qgc3RhdHVzTWFwID0gewogICAgICAgIDA6ICd3YXJuaW5nJywKICAgICAgICAxOiAncHJpbWFyeScsCiAgICAgICAgMjogJ2luZm8nLAogICAgICAgIDM6ICdzdWNjZXNzJywKICAgICAgICA0OiAnZGFuZ2VyJywKICAgICAgICA1OiAnaW5mbycKICAgICAgfQogICAgICByZXR1cm4gc3RhdHVzTWFwW3N0YXR1c10gfHwgJycKICAgIH0sCiAgICAvLyDmoLzlvI/ljJblnLDlnYAKICAgIGZvcm1hdEFkZHJlc3MoYWRkcmVzc0luZm8pIHsKICAgICAgaWYgKCFhZGRyZXNzSW5mbykgcmV0dXJuICfmmoLml6DlnLDlnYDkv6Hmga8nCiAgICAgIAogICAgICBjb25zdCB7IHByb3ZpbmNlLCBjaXR5LCBkaXN0cmljdCwgZGV0YWlsQWRkcmVzcyB9ID0gYWRkcmVzc0luZm8KICAgICAgbGV0IGZ1bGxBZGRyZXNzID0gJycKICAgICAgCiAgICAgIGlmIChwcm92aW5jZSkgZnVsbEFkZHJlc3MgKz0gcHJvdmluY2UKICAgICAgaWYgKGNpdHkpIGZ1bGxBZGRyZXNzICs9ICcgJyArIGNpdHkKICAgICAgaWYgKGRpc3RyaWN0KSBmdWxsQWRkcmVzcyArPSAnICcgKyBkaXN0cmljdAogICAgICBpZiAoZGV0YWlsQWRkcmVzcykgZnVsbEFkZHJlc3MgKz0gJyAnICsgZGV0YWlsQWRkcmVzcwogICAgICAKICAgICAgcmV0dXJuIGZ1bGxBZGRyZXNzIHx8ICfmmoLml6DlnLDlnYDkv6Hmga8nCiAgICB9LAogICAgLy8g6K6h566X5ZWG5ZOB5bCP6K6hCiAgICBjYWxjdWxhdGVJdGVtVG90YWwoaXRlbSkgewogICAgICBpZiAoIWl0ZW0pIHJldHVybiAnMC4wMCcKICAgICAgCiAgICAgIGNvbnN0IHByaWNlID0gcGFyc2VGbG9hdChpdGVtLnByaWNlKSB8fCAwCiAgICAgIGNvbnN0IHF1YW50aXR5ID0gcGFyc2VJbnQoaXRlbS5xdWFudGl0eSkgfHwgMAogICAgICAKICAgICAgcmV0dXJuIChwcmljZSAqIHF1YW50aXR5KS50b0ZpeGVkKDIpCiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["OrderDetail.vue"],"names":[],"mappings":";AA4NA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA","file":"OrderDetail.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"app-container\" v-loading=\"loading\">\n    <div class=\"detail-header\">\n      <el-page-header @back=\"goBack\" content=\"订单详情\" />\n      <div class=\"status-container\">\n        <el-tag :type=\"getOrderStatusType(orderData.status)\">\n          {{ getOrderStatusName(orderData.status) }}\n        </el-tag>\n      </div>\n    </div>\n    \n    <div v-if=\"!loading\" class=\"order-container\">\n      <!-- 基本信息卡片 -->\n      <el-card class=\"box-card\">\n        <div slot=\"header\" class=\"card-header\">\n          <span>基本信息</span>\n        </div>\n        <div class=\"card-content\">\n          <el-row :gutter=\"20\">\n            <el-col :xs=\"24\" :sm=\"12\" :md=\"8\">\n              <div class=\"info-item\">\n                <span class=\"label\">订单编号:</span>\n                <span class=\"value\">{{ orderData.orderNo || '暂无' }}</span>\n              </div>\n            </el-col>\n            <el-col :xs=\"24\" :sm=\"12\" :md=\"8\">\n              <div class=\"info-item\">\n                <span class=\"label\">下单时间:</span>\n                <span class=\"value\">{{ orderData.createTime || '暂无' }}</span>\n              </div>\n            </el-col>\n            <el-col :xs=\"24\" :sm=\"12\" :md=\"8\">\n              <div class=\"info-item\">\n                <span class=\"label\">支付方式:</span>\n                <span class=\"value\">{{ getPaymentMethodName(orderData.paymentMethod) }}</span>\n              </div>\n            </el-col>\n            <el-col :xs=\"24\" :sm=\"12\" :md=\"8\">\n              <div class=\"info-item\">\n                <span class=\"label\">支付时间:</span>\n                <span class=\"value\">{{ orderData.payTime || '暂无' }}</span>\n              </div>\n            </el-col>\n            <el-col :xs=\"24\" :sm=\"12\" :md=\"8\">\n              <div class=\"info-item\">\n                <span class=\"label\">订单金额:</span>\n                <span class=\"value price\">￥{{ orderData.totalAmount || '0.00' }}</span>\n              </div>\n            </el-col>\n            <el-col :xs=\"24\" :sm=\"12\" :md=\"8\">\n              <div class=\"info-item\">\n                <span class=\"label\">运费:</span>\n                <span class=\"value\">￥{{ orderData.shippingFee || '0.00' }}</span>\n              </div>\n            </el-col>\n          </el-row>\n        </div>\n      </el-card>\n\n      <!-- 收货信息卡片 -->\n      <el-card class=\"box-card\">\n        <div slot=\"header\" class=\"card-header\">\n          <span>收货信息</span>\n        </div>\n        <div class=\"card-content\" v-if=\"orderData.addressInfo\">\n          <el-row :gutter=\"20\">\n            <el-col :xs=\"24\" :sm=\"12\" :md=\"8\">\n              <div class=\"info-item\">\n                <span class=\"label\">收货人:</span>\n                <span class=\"value\">{{ orderData.addressInfo.receiver || '暂无' }}</span>\n              </div>\n            </el-col>\n            <el-col :xs=\"24\" :sm=\"12\" :md=\"8\">\n              <div class=\"info-item\">\n                <span class=\"label\">联系电话:</span>\n                <span class=\"value\">{{ orderData.addressInfo.phone || '暂无' }}</span>\n              </div>\n            </el-col>\n            <el-col :xs=\"24\" :sm=\"24\" :md=\"24\">\n              <div class=\"info-item\">\n                <span class=\"label\">收货地址:</span>\n                <span class=\"value\">\n                  {{ formatAddress(orderData.addressInfo) }}\n                </span>\n              </div>\n            </el-col>\n          </el-row>\n        </div>\n        <div class=\"card-content\" v-else>\n          <el-empty description=\"暂无收货信息\"></el-empty>\n        </div>\n      </el-card>\n\n      <!-- 商品信息卡片 -->\n      <el-card class=\"box-card\">\n        <div slot=\"header\" class=\"card-header\">\n          <span>商品信息</span>\n        </div>\n        <div class=\"card-content\">\n          <el-table\n            :data=\"orderData.orderItemVoList || []\"\n            border\n            style=\"width: 100%\"\n          >\n            <el-table-column\n              label=\"商品图片\"\n              width=\"100\"\n              align=\"center\"\n            >\n              <template slot-scope=\"scope\">\n                <el-image\n                  style=\"width: 60px; height: 60px\"\n                  :src=\"scope.row.productImage\"\n                  fit=\"cover\"\n                  :preview-src-list=\"[scope.row.productImage]\"\n                >\n                  <div slot=\"error\" class=\"image-slot\">\n                    <i class=\"el-icon-picture-outline\"></i>\n                  </div>\n                </el-image>\n              </template>\n            </el-table-column>\n            <el-table-column\n              label=\"商品名称\"\n              prop=\"productName\"\n              min-width=\"200\"\n              show-overflow-tooltip\n            />\n            <el-table-column\n              label=\"单价\"\n              width=\"120\"\n              align=\"center\"\n            >\n              <template slot-scope=\"scope\">\n                ￥{{ scope.row.price || '0.00' }}\n              </template>\n            </el-table-column>\n            <el-table-column\n              label=\"数量\"\n              prop=\"quantity\"\n              width=\"100\"\n              align=\"center\"\n            />\n            <el-table-column\n              label=\"小计\"\n              width=\"120\"\n              align=\"center\"\n            >\n              <template slot-scope=\"scope\">\n                ￥{{ calculateItemTotal(scope.row) }}\n              </template>\n            </el-table-column>\n          </el-table>\n\n          <div class=\"order-summary\">\n            <div class=\"summary-item\">\n              <span>商品总价:</span>\n              <span>￥{{ orderData.totalPrice || '0.00' }}</span>\n            </div>\n            <div class=\"summary-item\">\n              <span>运费:</span>\n              <span>￥{{ orderData.shippingFee || '0.00' }}</span>\n            </div>\n            <div class=\"summary-item total\">\n              <span>实付金额:</span>\n              <span class=\"price\">￥{{ orderData.paymentAmount || '0.00' }}</span>\n            </div>\n          </div>\n        </div>\n      </el-card>\n\n      <!-- 操作按钮区域 -->\n      <div class=\"action-area\">\n        <el-button v-if=\"orderData.status === 1\" type=\"success\" @click=\"handleShip\">订单发货</el-button>\n        <el-button v-if=\"orderData.status === 2\" type=\"warning\" @click=\"handleComplete\">确认收货</el-button>\n        <el-button type=\"info\" @click=\"goBack\">返回</el-button>\n      </div>\n    </div>\n\n    <!-- 订单为空时显示 -->\n    <el-empty v-if=\"!loading && !orderData.id\" description=\"未找到订单信息\"></el-empty>\n\n    <!-- 发货对话框 -->\n    <el-dialog title=\"订单发货\" :visible.sync=\"shipDialogVisible\" width=\"500px\">\n      <el-form\n        ref=\"shipForm\"\n        :model=\"shipForm\"\n        :rules=\"shipRules\"\n        label-width=\"100px\"\n      >\n        <el-form-item label=\"订单号\">\n          <span>{{ orderData.orderNo }}</span>\n        </el-form-item>\n        <el-form-item label=\"物流公司\" prop=\"shippingCompany\">\n          <el-select v-model=\"shipForm.shippingCompany\" placeholder=\"请选择物流公司\" style=\"width: 100%\">\n            <el-option label=\"顺丰速运\" value=\"SF\" />\n            <el-option label=\"中通快递\" value=\"ZTO\" />\n            <el-option label=\"圆通速递\" value=\"YTO\" />\n            <el-option label=\"韵达快递\" value=\"YD\" />\n            <el-option label=\"申通快递\" value=\"STO\" />\n            <el-option label=\"京东物流\" value=\"JD\" />\n            <el-option label=\"其他\" value=\"OTHER\" />\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"物流单号\" prop=\"trackingNumber\">\n          <el-input v-model=\"shipForm.trackingNumber\" placeholder=\"请输入物流单号\" />\n        </el-form-item>\n        <el-form-item label=\"备注\">\n          <el-input v-model=\"shipForm.remark\" type=\"textarea\" :rows=\"3\" placeholder=\"可选备注信息\" />\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"shipDialogVisible = false\">取消</el-button>\n        <el-button type=\"primary\" @click=\"submitShipForm\" :loading=\"shipSubmitting\">确认发货</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport { fetchOrder, shipOrder, completeOrder } from '@/api/order'\n\nexport default {\n  name: 'OrderDetail',\n  data() {\n    return {\n      loading: true,\n      orderId: null,\n      orderData: {},\n      // 发货对话框\n      shipDialogVisible: false,\n      shipSubmitting: false,\n      shipForm: {\n        orderId: '',\n        shippingCompany: '',\n        trackingNumber: '',\n        remark: ''\n      },\n      shipRules: {\n        shippingCompany: [\n          { required: true, message: '请选择物流公司', trigger: 'change' }\n        ],\n        trackingNumber: [\n          { required: true, message: '请输入物流单号', trigger: 'blur' },\n          { min: 5, max: 30, message: '长度在 5 到 30 个字符', trigger: 'blur' }\n        ]\n      }\n    }\n  },\n  created() {\n    this.orderId = this.$route.params.id\n    this.fetchOrderDetail()\n  },\n  methods: {\n    // 获取订单详情\n    fetchOrderDetail() {\n      this.loading = true\n      fetchOrder(this.orderId).then(response => {\n        console.log('订单详情响应:', response)\n        if (response.code === 200 && response.data) {\n          this.orderData = response.data\n        } else {\n          this.$message.error('获取订单详情失败: ' + (response.message || '未知错误'))\n          this.orderData = {}\n        }\n      }).catch(error => {\n        console.error('获取订单详情错误:', error)\n        this.$message.error('获取订单详情失败: ' + (error.message || '未知错误'))\n        this.orderData = {}\n      }).finally(() => {\n        this.loading = false\n      })\n    },\n    // 返回上一页\n    goBack() {\n      this.$router.push('/order/list')\n    },\n    // 处理发货\n    handleShip() {\n      this.shipForm = {\n        orderId: this.orderData.id,\n        shippingCompany: '',\n        trackingNumber: '',\n        remark: ''\n      }\n      this.shipDialogVisible = true\n      this.$nextTick(() => {\n        if (this.$refs.shipForm) {\n          this.$refs.shipForm.clearValidate()\n        }\n      })\n    },\n    // 提交发货表单\n    submitShipForm() {\n      this.$refs.shipForm.validate((valid) => {\n        if (valid) {\n          this.shipSubmitting = true\n          shipOrder(this.orderData.id, this.shipForm).then(response => {\n            if (response.code === 200) {\n              this.shipDialogVisible = false\n              this.$notify({\n                title: '成功',\n                message: '订单发货成功',\n                type: 'success',\n                duration: 2000\n              })\n              this.fetchOrderDetail() // 刷新订单数据\n            } else {\n              this.$message.error('订单发货失败: ' + (response.message || '未知错误'))\n            }\n          }).catch(error => {\n            this.$message.error('订单发货失败: ' + (error.message || '未知错误'))\n          }).finally(() => {\n            this.shipSubmitting = false\n          })\n        }\n      })\n    },\n    // 完成订单\n    handleComplete() {\n      this.$confirm('确认将此订单标记为已完成?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        completeOrder(this.orderData.id).then(response => {\n          if (response.code === 200) {\n            this.$notify({\n              title: '成功',\n              message: '订单已完成',\n              type: 'success',\n              duration: 2000\n            })\n            this.fetchOrderDetail() // 刷新订单数据\n          } else {\n            this.$message.error('操作失败: ' + (response.message || '未知错误'))\n          }\n        }).catch(error => {\n          this.$message.error('操作失败: ' + (error.message || '未知错误'))\n        })\n      }).catch(() => {\n        // 取消操作，不做处理\n      })\n    },\n    // 获取支付方式名称\n    getPaymentMethodName(method) {\n      const methodMap = {\n        alipay: '支付宝',\n        wechat: '微信支付',\n        creditcard: '信用卡',\n        cash: '现金',\n        0: '支付宝',\n        1: '微信支付',\n        2: '信用卡',\n        3: '现金'\n      }\n      return methodMap[method] || '未知'\n    },\n    // 获取订单状态名称\n    getOrderStatusName(status) {\n      const statusMap = {\n        0: '待支付',\n        1: '已支付',\n        2: '已发货',\n        3: '已完成',\n        4: '已取消',\n        5: '已退款'\n      }\n      return statusMap[status] || '未知状态'\n    },\n    // 获取订单状态类型\n    getOrderStatusType(status) {\n      const statusMap = {\n        0: 'warning',\n        1: 'primary',\n        2: 'info',\n        3: 'success',\n        4: 'danger',\n        5: 'info'\n      }\n      return statusMap[status] || ''\n    },\n    // 格式化地址\n    formatAddress(addressInfo) {\n      if (!addressInfo) return '暂无地址信息'\n      \n      const { province, city, district, detailAddress } = addressInfo\n      let fullAddress = ''\n      \n      if (province) fullAddress += province\n      if (city) fullAddress += ' ' + city\n      if (district) fullAddress += ' ' + district\n      if (detailAddress) fullAddress += ' ' + detailAddress\n      \n      return fullAddress || '暂无地址信息'\n    },\n    // 计算商品小计\n    calculateItemTotal(item) {\n      if (!item) return '0.00'\n      \n      const price = parseFloat(item.price) || 0\n      const quantity = parseInt(item.quantity) || 0\n      \n      return (price * quantity).toFixed(2)\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.app-container {\n  padding: 20px;\n}\n\n.detail-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 20px;\n  \n  .status-container {\n    .el-tag {\n      font-size: 14px;\n      padding: 8px 12px;\n    }\n  }\n}\n\n.order-container {\n  .box-card {\n    margin-bottom: 20px;\n    \n    .card-header {\n      font-weight: bold;\n    }\n    \n    .card-content {\n      .info-item {\n        display: flex;\n        margin-bottom: 12px;\n        \n        .label {\n          width: 100px;\n          color: #909399;\n        }\n        \n        .value {\n          flex: 1;\n          &.price {\n            color: #f56c6c;\n            font-weight: bold;\n          }\n        }\n      }\n    }\n  }\n  \n  .order-summary {\n    margin-top: 20px;\n    display: flex;\n    flex-direction: column;\n    align-items: flex-end;\n    \n    .summary-item {\n      margin-bottom: 8px;\n      font-size: 14px;\n      \n      &.total {\n        font-size: 16px;\n        font-weight: bold;\n        margin-top: 5px;\n        \n        .price {\n          color: #f56c6c;\n          font-size: 18px;\n        }\n      }\n    }\n  }\n  \n  .action-area {\n    display: flex;\n    justify-content: flex-end;\n    margin-top: 20px;\n    \n    .el-button {\n      margin-left: 10px;\n    }\n  }\n}\n</style> "]}]}