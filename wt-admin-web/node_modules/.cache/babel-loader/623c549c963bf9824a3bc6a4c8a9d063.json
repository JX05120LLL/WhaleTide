{"remainingRequest":"D:\\MyFile\\NewProject\\ghost-m-admin-web\\node_modules\\babel-loader\\lib\\index.js!D:\\MyFile\\NewProject\\ghost-m-admin-web\\node_modules\\eslint-loader\\index.js??ref--14-0!D:\\MyFile\\NewProject\\ghost-m-admin-web\\src\\store\\modules\\permission.js","dependencies":[{"path":"D:\\MyFile\\NewProject\\ghost-m-admin-web\\src\\store\\modules\\permission.js","mtime":1747122000919},{"path":"D:\\MyFile\\NewProject\\ghost-m-admin-web\\babel.config.js","mtime":1744791066000},{"path":"D:\\MyFile\\NewProject\\ghost-m-admin-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1747114800727},{"path":"D:\\MyFile\\NewProject\\ghost-m-admin-web\\node_modules\\babel-loader\\lib\\index.js","mtime":1747114801239},{"path":"D:\\MyFile\\NewProject\\ghost-m-admin-web\\node_modules\\eslint-loader\\index.js","mtime":1747114800457}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuaXRlcmF0b3IuY29uc3RydWN0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5pdGVyYXRvci5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5pdGVyYXRvci5maW5kLmpzIjsKaW1wb3J0IHsgY29uc3RhbnRSb3V0ZXMgfSBmcm9tICdAL3JvdXRlcic7CmNvbnN0IHN0YXRlID0gewogIHJvdXRlczogY29uc3RhbnRSb3V0ZXMsCiAgcmVmcmVzaEtleTogMCAvLyDmt7vliqDliLfmlrDplK4KfTsKY29uc3QgbXV0YXRpb25zID0gewogIFNFVF9ST1VURVM6IChzdGF0ZSwgcm91dGVzKSA9PiB7CiAgICBzdGF0ZS5yb3V0ZXMgPSByb3V0ZXM7CiAgfSwKICBSRUZSRVNIX1JPVVRFUzogc3RhdGUgPT4gewogICAgc3RhdGUucmVmcmVzaEtleSArPSAxOwogIH0KfTsKY29uc3QgYWN0aW9ucyA9IHsKICBnZW5lcmF0ZVJvdXRlcyh7CiAgICBjb21taXQKICB9KSB7CiAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7CiAgICAgIGNvbnNvbGUubG9nKCfnlJ/miJDot6/nlLHmlbDmja7vvIzmgLvot6/nlLHmlbDph486JywgY29uc3RhbnRSb3V0ZXMubGVuZ3RoKTsKCiAgICAgIC8vIOiwg+ivlTog5qOA5p+l5ZWG5ZOB566h55CG6Lev55Sx5piv5ZCm5a2Y5ZyoCiAgICAgIGNvbnN0IHByb2R1Y3RSb3V0ZSA9IGNvbnN0YW50Um91dGVzLmZpbmQocm91dGUgPT4gcm91dGUucGF0aCA9PT0gJy9wcm9kdWN0Jyk7CiAgICAgIGlmIChwcm9kdWN0Um91dGUpIHsKICAgICAgICBjb25zb2xlLmxvZygn5ZWG5ZOB566h55CG6Lev55Sx6YWN572u5a2Y5ZyoOicsIHByb2R1Y3RSb3V0ZSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY29uc29sZS53YXJuKCfllYblk4HnrqHnkIbot6/nlLHphY3nva7kuI3lrZjlnKghJyk7CiAgICAgIH0KCiAgICAgIC8vIOiwg+ivlTog5qOA5p+l5Yqo5ryr6KeS6Imy566h55CG6Lev55Sx5piv5ZCm5a2Y5ZyoCiAgICAgIGNvbnN0IGNoYXJhY3RlclJvdXRlID0gY29uc3RhbnRSb3V0ZXMuZmluZChyb3V0ZSA9PiByb3V0ZS5wYXRoID09PSAnL2NoYXJhY3RlcicpOwogICAgICBpZiAoY2hhcmFjdGVyUm91dGUpIHsKICAgICAgICBjb25zb2xlLmxvZygn5Yqo5ryr6KeS6Imy566h55CG6Lev55Sx6YWN572u5a2Y5ZyoOicsIGNoYXJhY3RlclJvdXRlKTsKCiAgICAgICAgLy8g56Gu5L+d6KeS6Imy566h55CG6Lev55Sx5LiN5Lya6KKr6ZqQ6JePCiAgICAgICAgaWYgKGNoYXJhY3RlclJvdXRlLmhpZGRlbikgewogICAgICAgICAgY2hhcmFjdGVyUm91dGUuaGlkZGVuID0gZmFsc2U7CiAgICAgICAgICBjb25zb2xlLmxvZygn5ZCv55So5LqG6KeS6Imy566h55CG6Lev55Sx5pi+56S6Jyk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIGNvbnNvbGUud2Fybign5Yqo5ryr6KeS6Imy566h55CG6Lev55Sx6YWN572u5LiN5a2Y5ZyoIScpOwogICAgICB9CgogICAgICAvLyDov4fmu6TmjoloaWRkZW7lsZ7mgKfkuLp0cnVl55qE6Lev55SxCiAgICAgIGNvbnN0IGFjY2Vzc2VkUm91dGVzID0gY29uc3RhbnRSb3V0ZXMuZmlsdGVyKHJvdXRlID0+IHsKICAgICAgICBpZiAocm91dGUuaGlkZGVuKSB7CiAgICAgICAgICBjb25zb2xlLmxvZygn6L+H5ruk6ZqQ6JeP6Lev55SxOicsIHJvdXRlLnBhdGgpOwogICAgICAgICAgcmV0dXJuIGZhbHNlOyAvLyDnnJ/mraPov4fmu6TmjonpmpDol4/ot6/nlLEKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0pOwogICAgICBjb25zb2xlLmxvZygn5aSE55CG5ZCO55qE6Lev55Sx5pWw6YePOicsIGFjY2Vzc2VkUm91dGVzLmxlbmd0aCk7CiAgICAgIGNvbW1pdCgnU0VUX1JPVVRFUycsIGFjY2Vzc2VkUm91dGVzKTsKICAgICAgcmVzb2x2ZShhY2Nlc3NlZFJvdXRlcyk7CiAgICB9KTsKICB9LAogIHJlZnJlc2hSb3V0ZXMoewogICAgY29tbWl0CiAgfSkgewogICAgY29tbWl0KCdSRUZSRVNIX1JPVVRFUycpOwogICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpOwogIH0KfTsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWVzcGFjZWQ6IHRydWUsCiAgc3RhdGUsCiAgbXV0YXRpb25zLAogIGFjdGlvbnMKfTs="},{"version":3,"names":["constantRoutes","state","routes","refreshKey","mutations","SET_ROUTES","REFRESH_ROUTES","actions","generateRoutes","commit","Promise","resolve","console","log","length","productRoute","find","route","path","warn","characterRoute","hidden","accessedRoutes","filter","refreshRoutes","namespaced"],"sources":["D:/MyFile/NewProject/ghost-m-admin-web/src/store/modules/permission.js"],"sourcesContent":["import { constantRoutes } from '@/router'\n\nconst state = {\n  routes: constantRoutes,\n  refreshKey: 0 // 添加刷新键\n}\n\nconst mutations = {\n  SET_ROUTES: (state, routes) => {\n    state.routes = routes\n  },\n  REFRESH_ROUTES: (state) => {\n    state.refreshKey += 1\n  }\n}\n\nconst actions = {\n  generateRoutes({ commit }) {\n    return new Promise(resolve => {\n      console.log('生成路由数据，总路由数量:', constantRoutes.length)\n      \n      // 调试: 检查商品管理路由是否存在\n      const productRoute = constantRoutes.find(route => route.path === '/product')\n      if (productRoute) {\n        console.log('商品管理路由配置存在:', productRoute)\n      } else {\n        console.warn('商品管理路由配置不存在!')\n      }\n      \n      // 调试: 检查动漫角色管理路由是否存在\n      const characterRoute = constantRoutes.find(route => route.path === '/character')\n      if (characterRoute) {\n        console.log('动漫角色管理路由配置存在:', characterRoute)\n        \n        // 确保角色管理路由不会被隐藏\n        if (characterRoute.hidden) {\n          characterRoute.hidden = false\n          console.log('启用了角色管理路由显示')\n        }\n      } else {\n        console.warn('动漫角色管理路由配置不存在!')\n      }\n      \n      // 过滤掉hidden属性为true的路由\n      const accessedRoutes = constantRoutes.filter(route => {\n        if (route.hidden) {\n          console.log('过滤隐藏路由:', route.path)\n          return false // 真正过滤掉隐藏路由\n        }\n        return true\n      })\n      console.log('处理后的路由数量:', accessedRoutes.length)\n      commit('SET_ROUTES', accessedRoutes)\n      resolve(accessedRoutes)\n    })\n  },\n  \n  refreshRoutes({ commit }) {\n    commit('REFRESH_ROUTES')\n    return Promise.resolve()\n  }\n}\n\nexport default {\n  namespaced: true,\n  state,\n  mutations,\n  actions\n} "],"mappings":";;;AAAA,SAASA,cAAc,QAAQ,UAAU;AAEzC,MAAMC,KAAK,GAAG;EACZC,MAAM,EAAEF,cAAc;EACtBG,UAAU,EAAE,CAAC,CAAC;AAChB,CAAC;AAED,MAAMC,SAAS,GAAG;EAChBC,UAAU,EAAEA,CAACJ,KAAK,EAAEC,MAAM,KAAK;IAC7BD,KAAK,CAACC,MAAM,GAAGA,MAAM;EACvB,CAAC;EACDI,cAAc,EAAGL,KAAK,IAAK;IACzBA,KAAK,CAACE,UAAU,IAAI,CAAC;EACvB;AACF,CAAC;AAED,MAAMI,OAAO,GAAG;EACdC,cAAcA,CAAC;IAAEC;EAAO,CAAC,EAAE;IACzB,OAAO,IAAIC,OAAO,CAACC,OAAO,IAAI;MAC5BC,OAAO,CAACC,GAAG,CAAC,eAAe,EAAEb,cAAc,CAACc,MAAM,CAAC;;MAEnD;MACA,MAAMC,YAAY,GAAGf,cAAc,CAACgB,IAAI,CAACC,KAAK,IAAIA,KAAK,CAACC,IAAI,KAAK,UAAU,CAAC;MAC5E,IAAIH,YAAY,EAAE;QAChBH,OAAO,CAACC,GAAG,CAAC,aAAa,EAAEE,YAAY,CAAC;MAC1C,CAAC,MAAM;QACLH,OAAO,CAACO,IAAI,CAAC,cAAc,CAAC;MAC9B;;MAEA;MACA,MAAMC,cAAc,GAAGpB,cAAc,CAACgB,IAAI,CAACC,KAAK,IAAIA,KAAK,CAACC,IAAI,KAAK,YAAY,CAAC;MAChF,IAAIE,cAAc,EAAE;QAClBR,OAAO,CAACC,GAAG,CAAC,eAAe,EAAEO,cAAc,CAAC;;QAE5C;QACA,IAAIA,cAAc,CAACC,MAAM,EAAE;UACzBD,cAAc,CAACC,MAAM,GAAG,KAAK;UAC7BT,OAAO,CAACC,GAAG,CAAC,aAAa,CAAC;QAC5B;MACF,CAAC,MAAM;QACLD,OAAO,CAACO,IAAI,CAAC,gBAAgB,CAAC;MAChC;;MAEA;MACA,MAAMG,cAAc,GAAGtB,cAAc,CAACuB,MAAM,CAACN,KAAK,IAAI;QACpD,IAAIA,KAAK,CAACI,MAAM,EAAE;UAChBT,OAAO,CAACC,GAAG,CAAC,SAAS,EAAEI,KAAK,CAACC,IAAI,CAAC;UAClC,OAAO,KAAK,EAAC;QACf;QACA,OAAO,IAAI;MACb,CAAC,CAAC;MACFN,OAAO,CAACC,GAAG,CAAC,WAAW,EAAES,cAAc,CAACR,MAAM,CAAC;MAC/CL,MAAM,CAAC,YAAY,EAAEa,cAAc,CAAC;MACpCX,OAAO,CAACW,cAAc,CAAC;IACzB,CAAC,CAAC;EACJ,CAAC;EAEDE,aAAaA,CAAC;IAAEf;EAAO,CAAC,EAAE;IACxBA,MAAM,CAAC,gBAAgB,CAAC;IACxB,OAAOC,OAAO,CAACC,OAAO,CAAC,CAAC;EAC1B;AACF,CAAC;AAED,eAAe;EACbc,UAAU,EAAE,IAAI;EAChBxB,KAAK;EACLG,SAAS;EACTG;AACF,CAAC","ignoreList":[]}]}