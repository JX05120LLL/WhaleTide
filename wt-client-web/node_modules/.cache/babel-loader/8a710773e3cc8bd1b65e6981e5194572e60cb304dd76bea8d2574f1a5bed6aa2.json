{"ast":null,"code":"import { ref, reactive, computed, onMounted } from 'vue';\nimport { useRouter, useRoute } from 'vue-router';\nimport { useStore } from 'vuex';\nimport { ElMessage } from 'element-plus';\nimport { SuitcaseLine, Box, Van } from '@element-plus/icons-vue';\nimport AppHeader from '@/components/Header.vue';\nimport AppFooter from '@/components/Footer.vue';\nimport request from '@/utils/request';\nexport default {\n  name: 'ProductDetailPage',\n  components: {\n    AppHeader,\n    AppFooter,\n    SuitcaseLine,\n    Box,\n    Van\n  },\n  setup() {\n    const router = useRouter();\n    const route = useRoute();\n    const store = useStore();\n    const loading = ref(true);\n    const product = ref({\n      id: 0,\n      name: '',\n      brief: '',\n      price: 0,\n      originalPrice: 0,\n      discount: '',\n      stock: 0,\n      categoryId: '',\n      categoryName: '',\n      images: [],\n      specs: [],\n      parameters: [],\n      detail: '',\n      comments: [],\n      commentCount: 0\n    });\n    const currentImage = ref('');\n    const selectedSpecs = reactive({});\n    const quantity = ref(1);\n    const activeTab = ref('detail');\n    const isFavorite = ref(false);\n\n    // 获取商品详情\n    const fetchProductDetail = async () => {\n      try {\n        loading.value = true;\n        const productId = route.params.id;\n\n        // 这里应该调用API获取商品详情数据\n        // const res = await request.get(`/product/${productId}`)\n        // product.value = res.data.product\n\n        // 使用模拟数据\n        setTimeout(() => {\n          product.value = {\n            id: productId,\n            name: '高性能轻薄笔记本电脑',\n            brief: '第11代酷睿i7处理器，16GB内存，512GB SSD，14英寸2K屏幕',\n            price: 5999,\n            originalPrice: 6799,\n            discount: '限时8.8折',\n            stock: 50,\n            categoryId: 'digital',\n            categoryName: '数码产品',\n            images: ['https://via.placeholder.com/450x450?text=Product+Image+1', 'https://via.placeholder.com/450x450?text=Product+Image+2', 'https://via.placeholder.com/450x450?text=Product+Image+3', 'https://via.placeholder.com/450x450?text=Product+Image+4'],\n            specs: [{\n              name: '颜色',\n              options: [{\n                label: '深空灰',\n                value: 'gray'\n              }, {\n                label: '银色',\n                value: 'silver'\n              }, {\n                label: '金色',\n                value: 'gold',\n                disabled: true\n              }]\n            }, {\n              name: '内存',\n              options: [{\n                label: '8GB',\n                value: '8gb'\n              }, {\n                label: '16GB',\n                value: '16gb'\n              }, {\n                label: '32GB',\n                value: '32gb'\n              }]\n            }, {\n              name: '存储',\n              options: [{\n                label: '256GB SSD',\n                value: '256gb'\n              }, {\n                label: '512GB SSD',\n                value: '512gb'\n              }, {\n                label: '1TB SSD',\n                value: '1tb'\n              }]\n            }],\n            parameters: [{\n              name: '品牌',\n              value: 'WhaleTide'\n            }, {\n              name: '型号',\n              value: 'WT-NB2023'\n            }, {\n              name: '处理器',\n              value: '第11代Intel Core i7-1165G7'\n            }, {\n              name: '内存',\n              value: '16GB DDR4'\n            }, {\n              name: '存储',\n              value: '512GB PCIe SSD'\n            }, {\n              name: '显卡',\n              value: 'Intel Iris Xe Graphics'\n            }, {\n              name: '屏幕',\n              value: '14英寸 2K IPS屏幕'\n            }, {\n              name: '电池',\n              value: '56Wh'\n            }, {\n              name: '尺寸',\n              value: '325 x 216 x 17.9 mm'\n            }, {\n              name: '重量',\n              value: '1.38kg'\n            }],\n            detail: `\n              <div style=\"padding: 20px;\">\n                <h2 style=\"color: #0078d7; margin-bottom: 20px;\">产品介绍</h2>\n                <img src=\"https://via.placeholder.com/800x400?text=Product+Banner\" style=\"width: 100%; margin-bottom: 20px;\">\n                <p style=\"line-height: 1.8; margin-bottom: 15px;\">这款高性能轻薄笔记本电脑采用第11代Intel Core i7处理器，结合16GB大内存和512GB高速SSD，为您带来卓越的性能体验。</p>\n                <p style=\"line-height: 1.8; margin-bottom: 15px;\">14英寸2K高清屏幕呈现细腻画质，100% sRGB色域还原真实色彩。轻薄机身仅重1.38kg，轻松携带，随时随地工作娱乐。</p>\n                \n                <h3 style=\"color: #0078d7; margin: 30px 0 15px;\">性能强劲</h3>\n                <img src=\"https://via.placeholder.com/800x300?text=Performance\" style=\"width: 100%; margin-bottom: 15px;\">\n                <p style=\"line-height: 1.8; margin-bottom: 15px;\">搭载第11代Intel Core i7-1165G7处理器，睿频可达4.7GHz，四核八线程架构，应对各种复杂任务游刃有余。</p>\n                \n                <h3 style=\"color: #0078d7; margin: 30px 0 15px;\">高清显示</h3>\n                <img src=\"https://via.placeholder.com/800x300?text=Display\" style=\"width: 100%; margin-bottom: 15px;\">\n                <p style=\"line-height: 1.8; margin-bottom: 15px;\">2K高清分辨率屏幕，400nits亮度，细腻画质，无论是办公还是娱乐都能给您带来极佳的视觉体验。</p>\n                \n                <h3 style=\"color: #0078d7; margin: 30px 0 15px;\">轻薄便携</h3>\n                <img src=\"https://via.placeholder.com/800x300?text=Portable\" style=\"width: 100%; margin-bottom: 15px;\">\n                <p style=\"line-height: 1.8; margin-bottom: 15px;\">全金属机身，厚度仅17.9mm，重量1.38kg，随身携带无负担。56Wh大容量电池，支持全天续航。</p>\n              </div>\n            `,\n            comments: [{\n              username: '用户123456',\n              avatar: '',\n              time: '2023-05-10 15:23',\n              rating: 5,\n              content: '非常满意这款笔记本电脑，性能很强，散热也不错，屏幕素质很高，很适合办公和轻度设计使用。',\n              images: ['https://via.placeholder.com/100x100?text=Comment+Image+1', 'https://via.placeholder.com/100x100?text=Comment+Image+2']\n            }, {\n              username: '科技爱好者',\n              avatar: '',\n              time: '2023-05-08 09:45',\n              rating: 4,\n              content: '整体还是很不错的，性能满足日常需求，不过风扇声音在高负载时有点大，希望后续优化。',\n              images: []\n            }],\n            commentCount: 2\n          };\n\n          // 设置默认显示的图片\n          currentImage.value = product.value.images[0];\n\n          // 设置默认选中的规格\n          if (product.value.specs) {\n            product.value.specs.forEach(spec => {\n              // 默认选中第一个非禁用的选项\n              const defaultOption = spec.options.find(opt => !opt.disabled);\n              if (defaultOption) {\n                selectedSpecs[spec.name] = defaultOption.value;\n              }\n            });\n          }\n          loading.value = false;\n        }, 1000);\n      } catch (error) {\n        console.error('获取商品详情失败:', error);\n        ElMessage.error('获取商品详情失败，请稍后重试');\n        loading.value = false;\n      }\n    };\n\n    // 加入购物车\n    const addToCart = () => {\n      // 构建商品数据\n      const cartItem = {\n        id: product.value.id,\n        name: product.value.name,\n        price: product.value.price,\n        image: product.value.images[0],\n        quantity: quantity.value,\n        attrs: {\n          ...selectedSpecs\n        },\n        stock: product.value.stock\n      };\n\n      // 添加到购物车\n      store.dispatch('addToCart', cartItem);\n      ElMessage({\n        type: 'success',\n        message: `已将 ${product.value.name} 加入购物车`\n      });\n    };\n\n    // 立即购买\n    const buyNow = () => {\n      // 先加入购物车\n      addToCart();\n\n      // 然后跳转到结算页面\n      router.push({\n        path: '/checkout',\n        query: {\n          items: product.value.id\n        }\n      });\n    };\n\n    // 切换收藏状态\n    const toggleFavorite = () => {\n      isFavorite.value = !isFavorite.value;\n      ElMessage({\n        type: 'success',\n        message: isFavorite.value ? '已添加到收藏夹' : '已从收藏夹移除'\n      });\n    };\n    onMounted(() => {\n      fetchProductDetail();\n    });\n    return {\n      loading,\n      product,\n      currentImage,\n      selectedSpecs,\n      quantity,\n      activeTab,\n      isFavorite,\n      addToCart,\n      buyNow,\n      toggleFavorite\n    };\n  }\n};","map":{"version":3,"names":["ref","reactive","computed","onMounted","useRouter","useRoute","useStore","ElMessage","SuitcaseLine","Box","Van","AppHeader","AppFooter","request","name","components","setup","router","route","store","loading","product","id","brief","price","originalPrice","discount","stock","categoryId","categoryName","images","specs","parameters","detail","comments","commentCount","currentImage","selectedSpecs","quantity","activeTab","isFavorite","fetchProductDetail","value","productId","params","setTimeout","options","label","disabled","username","avatar","time","rating","content","forEach","spec","defaultOption","find","opt","error","console","addToCart","cartItem","image","attrs","dispatch","type","message","buyNow","push","path","query","items","toggleFavorite"],"sources":["D:\\code\\project\\wt-client-web\\src\\views\\ProductDetail.vue"],"sourcesContent":["<template>\r\n  <div class=\"product-detail-page\">\r\n    <app-header></app-header>\r\n    \r\n    <div class=\"container\">\r\n      <!-- 面包屑导航 -->\r\n      <div class=\"breadcrumb\">\r\n        <el-breadcrumb separator=\"/\">\r\n          <el-breadcrumb-item :to=\"{ path: '/' }\">首页</el-breadcrumb-item>\r\n          <el-breadcrumb-item :to=\"{ path: `/category/${product.categoryId}` }\">\r\n            {{ product.categoryName || '商品分类' }}\r\n          </el-breadcrumb-item>\r\n          <el-breadcrumb-item>{{ product.name || '商品详情' }}</el-breadcrumb-item>\r\n        </el-breadcrumb>\r\n      </div>\r\n      \r\n      <!-- 加载中 -->\r\n      <div v-if=\"loading\" class=\"loading-container\">\r\n        <el-skeleton style=\"width: 100%\">\r\n          <template #template>\r\n            <div style=\"display: flex; gap: 20px;\">\r\n              <el-skeleton-item variant=\"image\" style=\"width: 450px; height: 450px\" />\r\n              <div style=\"flex: 1;\">\r\n                <el-skeleton-item variant=\"p\" style=\"width: 80%; height: 30px\" />\r\n                <el-skeleton-item variant=\"p\" style=\"width: 40%; height: 24px; margin-top: 20px\" />\r\n                <el-skeleton-item variant=\"p\" style=\"width: 60%; height: 24px; margin-top: 10px\" />\r\n                <el-skeleton-item variant=\"p\" style=\"width: 60%; height: 24px; margin-top: 40px\" />\r\n                <el-skeleton-item variant=\"p\" style=\"width: 100%; height: 150px; margin-top: 20px\" />\r\n              </div>\r\n            </div>\r\n          </template>\r\n        </el-skeleton>\r\n      </div>\r\n      \r\n      <!-- 商品详情内容 -->\r\n      <div v-else class=\"product-container\">\r\n        <div class=\"product-overview\">\r\n          <!-- 商品图片区 -->\r\n          <div class=\"product-gallery\">\r\n            <div class=\"main-image\">\r\n              <el-image \r\n                :src=\"currentImage\" \r\n                fit=\"contain\"\r\n                :preview-src-list=\"product.images\">\r\n              </el-image>\r\n            </div>\r\n            \r\n            <div class=\"thumbnail-list\">\r\n              <div \r\n                v-for=\"(image, index) in product.images\" \r\n                :key=\"index\" \r\n                class=\"thumbnail-item\"\r\n                :class=\"{ active: currentImage === image }\"\r\n                @click=\"currentImage = image\">\r\n                <el-image :src=\"image\" fit=\"cover\"></el-image>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n          <!-- 商品信息区 -->\r\n          <div class=\"product-info\">\r\n            <h1 class=\"product-name\">{{ product.name }}</h1>\r\n            \r\n            <div class=\"product-brief\">{{ product.brief }}</div>\r\n            \r\n            <div class=\"product-price-info\">\r\n              <div class=\"price-section\">\r\n                <div class=\"price-label\">价格</div>\r\n                <div class=\"price-value\">\r\n                  <span class=\"current-price\">¥{{ product.price.toFixed(2) }}</span>\r\n                  <span class=\"original-price\" v-if=\"product.originalPrice\">¥{{ product.originalPrice.toFixed(2) }}</span>\r\n                </div>\r\n              </div>\r\n              \r\n              <div class=\"discount-info\" v-if=\"product.discount\">\r\n                <el-tag type=\"danger\">{{ product.discount }}</el-tag>\r\n              </div>\r\n            </div>\r\n            \r\n            <div class=\"specs-section\" v-if=\"product.specs && product.specs.length > 0\">\r\n              <div \r\n                v-for=\"spec in product.specs\" \r\n                :key=\"spec.name\" \r\n                class=\"spec-item\">\r\n                <div class=\"spec-label\">{{ spec.name }}</div>\r\n                <div class=\"spec-options\">\r\n                  <el-radio-group v-model=\"selectedSpecs[spec.name]\">\r\n                    <el-radio-button \r\n                      v-for=\"option in spec.options\" \r\n                      :key=\"option.value\" \r\n                      :label=\"option.value\"\r\n                      :disabled=\"option.disabled\">\r\n                      {{ option.label }}\r\n                    </el-radio-button>\r\n                  </el-radio-group>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            \r\n            <div class=\"quantity-section\">\r\n              <div class=\"quantity-label\">数量</div>\r\n              <el-input-number \r\n                v-model=\"quantity\" \r\n                :min=\"1\" \r\n                :max=\"product.stock || 99\">\r\n              </el-input-number>\r\n              <div class=\"stock-info\">库存 {{ product.stock }} 件</div>\r\n            </div>\r\n            \r\n            <div class=\"action-section\">\r\n              <el-button type=\"primary\" size=\"large\" @click=\"addToCart\">加入购物车</el-button>\r\n              <el-button type=\"danger\" size=\"large\" @click=\"buyNow\">立即购买</el-button>\r\n              <el-button \r\n                :icon=\"isFavorite ? 'Star' : 'StarFilled'\"\r\n                :type=\"isFavorite ? 'default' : 'text'\"\r\n                circle\r\n                @click=\"toggleFavorite\">\r\n              </el-button>\r\n            </div>\r\n            \r\n            <div class=\"service-section\">\r\n              <div class=\"service-item\">\r\n                <el-icon><SuitcaseLine /></el-icon>\r\n                <span>七天无理由退货</span>\r\n              </div>\r\n              <div class=\"service-item\">\r\n                <el-icon><Box /></el-icon>\r\n                <span>正品保障</span>\r\n              </div>\r\n              <div class=\"service-item\">\r\n                <el-icon><Van /></el-icon>\r\n                <span>顺丰急速达</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n        <!-- 商品详情选项卡 -->\r\n        <div class=\"product-detail-tabs\">\r\n          <el-tabs v-model=\"activeTab\">\r\n            <el-tab-pane label=\"商品详情\" name=\"detail\">\r\n              <div class=\"product-detail-content\" v-html=\"product.detail\"></div>\r\n            </el-tab-pane>\r\n            <el-tab-pane label=\"规格参数\" name=\"specs\">\r\n              <div class=\"product-specs-content\">\r\n                <el-table :data=\"product.parameters\" border stripe>\r\n                  <el-table-column prop=\"name\" label=\"参数名称\" width=\"180\"></el-table-column>\r\n                  <el-table-column prop=\"value\" label=\"参数值\"></el-table-column>\r\n                </el-table>\r\n              </div>\r\n            </el-tab-pane>\r\n            <el-tab-pane label=\"用户评价({{ product.commentCount || 0 }})\" name=\"comments\">\r\n              <div class=\"product-comments-content\">\r\n                <div v-if=\"product.comments && product.comments.length > 0\">\r\n                  <div \r\n                    v-for=\"(comment, index) in product.comments\" \r\n                    :key=\"index\"\r\n                    class=\"comment-item\">\r\n                    <div class=\"comment-user\">\r\n                      <div class=\"comment-avatar\">\r\n                        <el-avatar :src=\"comment.avatar\" :size=\"40\">{{ comment.username.substr(0, 1) }}</el-avatar>\r\n                      </div>\r\n                      <div class=\"comment-user-info\">\r\n                        <div class=\"comment-username\">{{ comment.username }}</div>\r\n                        <div class=\"comment-time\">{{ comment.time }}</div>\r\n                      </div>\r\n                      <div class=\"comment-rating\">\r\n                        <el-rate v-model=\"comment.rating\" disabled></el-rate>\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"comment-content\">{{ comment.content }}</div>\r\n                    <div class=\"comment-images\" v-if=\"comment.images && comment.images.length > 0\">\r\n                      <el-image \r\n                        v-for=\"(img, imgIndex) in comment.images\" \r\n                        :key=\"imgIndex\"\r\n                        :src=\"img\"\r\n                        :preview-src-list=\"comment.images\"\r\n                        fit=\"cover\"\r\n                        class=\"comment-image\">\r\n                      </el-image>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <el-empty description=\"暂无评价\" v-else></el-empty>\r\n              </div>\r\n            </el-tab-pane>\r\n          </el-tabs>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    \r\n    <app-footer></app-footer>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, reactive, computed, onMounted } from 'vue'\r\nimport { useRouter, useRoute } from 'vue-router'\r\nimport { useStore } from 'vuex'\r\nimport { ElMessage } from 'element-plus'\r\nimport { SuitcaseLine, Box, Van } from '@element-plus/icons-vue'\r\nimport AppHeader from '@/components/Header.vue'\r\nimport AppFooter from '@/components/Footer.vue'\r\nimport request from '@/utils/request'\r\n\r\nexport default {\r\n  name: 'ProductDetailPage',\r\n  components: {\r\n    AppHeader,\r\n    AppFooter,\r\n    SuitcaseLine,\r\n    Box,\r\n    Van\r\n  },\r\n  setup() {\r\n    const router = useRouter()\r\n    const route = useRoute()\r\n    const store = useStore()\r\n    \r\n    const loading = ref(true)\r\n    const product = ref({\r\n      id: 0,\r\n      name: '',\r\n      brief: '',\r\n      price: 0,\r\n      originalPrice: 0,\r\n      discount: '',\r\n      stock: 0,\r\n      categoryId: '',\r\n      categoryName: '',\r\n      images: [],\r\n      specs: [],\r\n      parameters: [],\r\n      detail: '',\r\n      comments: [],\r\n      commentCount: 0\r\n    })\r\n    const currentImage = ref('')\r\n    const selectedSpecs = reactive({})\r\n    const quantity = ref(1)\r\n    const activeTab = ref('detail')\r\n    const isFavorite = ref(false)\r\n    \r\n    // 获取商品详情\r\n    const fetchProductDetail = async () => {\r\n      try {\r\n        loading.value = true\r\n        const productId = route.params.id\r\n        \r\n        // 这里应该调用API获取商品详情数据\r\n        // const res = await request.get(`/product/${productId}`)\r\n        // product.value = res.data.product\r\n        \r\n        // 使用模拟数据\r\n        setTimeout(() => {\r\n          product.value = {\r\n            id: productId,\r\n            name: '高性能轻薄笔记本电脑',\r\n            brief: '第11代酷睿i7处理器，16GB内存，512GB SSD，14英寸2K屏幕',\r\n            price: 5999,\r\n            originalPrice: 6799,\r\n            discount: '限时8.8折',\r\n            stock: 50,\r\n            categoryId: 'digital',\r\n            categoryName: '数码产品',\r\n            images: [\r\n              'https://via.placeholder.com/450x450?text=Product+Image+1',\r\n              'https://via.placeholder.com/450x450?text=Product+Image+2',\r\n              'https://via.placeholder.com/450x450?text=Product+Image+3',\r\n              'https://via.placeholder.com/450x450?text=Product+Image+4'\r\n            ],\r\n            specs: [\r\n              {\r\n                name: '颜色',\r\n                options: [\r\n                  { label: '深空灰', value: 'gray' },\r\n                  { label: '银色', value: 'silver' },\r\n                  { label: '金色', value: 'gold', disabled: true }\r\n                ]\r\n              },\r\n              {\r\n                name: '内存',\r\n                options: [\r\n                  { label: '8GB', value: '8gb' },\r\n                  { label: '16GB', value: '16gb' },\r\n                  { label: '32GB', value: '32gb' }\r\n                ]\r\n              },\r\n              {\r\n                name: '存储',\r\n                options: [\r\n                  { label: '256GB SSD', value: '256gb' },\r\n                  { label: '512GB SSD', value: '512gb' },\r\n                  { label: '1TB SSD', value: '1tb' }\r\n                ]\r\n              }\r\n            ],\r\n            parameters: [\r\n              { name: '品牌', value: 'WhaleTide' },\r\n              { name: '型号', value: 'WT-NB2023' },\r\n              { name: '处理器', value: '第11代Intel Core i7-1165G7' },\r\n              { name: '内存', value: '16GB DDR4' },\r\n              { name: '存储', value: '512GB PCIe SSD' },\r\n              { name: '显卡', value: 'Intel Iris Xe Graphics' },\r\n              { name: '屏幕', value: '14英寸 2K IPS屏幕' },\r\n              { name: '电池', value: '56Wh' },\r\n              { name: '尺寸', value: '325 x 216 x 17.9 mm' },\r\n              { name: '重量', value: '1.38kg' }\r\n            ],\r\n            detail: `\r\n              <div style=\"padding: 20px;\">\r\n                <h2 style=\"color: #0078d7; margin-bottom: 20px;\">产品介绍</h2>\r\n                <img src=\"https://via.placeholder.com/800x400?text=Product+Banner\" style=\"width: 100%; margin-bottom: 20px;\">\r\n                <p style=\"line-height: 1.8; margin-bottom: 15px;\">这款高性能轻薄笔记本电脑采用第11代Intel Core i7处理器，结合16GB大内存和512GB高速SSD，为您带来卓越的性能体验。</p>\r\n                <p style=\"line-height: 1.8; margin-bottom: 15px;\">14英寸2K高清屏幕呈现细腻画质，100% sRGB色域还原真实色彩。轻薄机身仅重1.38kg，轻松携带，随时随地工作娱乐。</p>\r\n                \r\n                <h3 style=\"color: #0078d7; margin: 30px 0 15px;\">性能强劲</h3>\r\n                <img src=\"https://via.placeholder.com/800x300?text=Performance\" style=\"width: 100%; margin-bottom: 15px;\">\r\n                <p style=\"line-height: 1.8; margin-bottom: 15px;\">搭载第11代Intel Core i7-1165G7处理器，睿频可达4.7GHz，四核八线程架构，应对各种复杂任务游刃有余。</p>\r\n                \r\n                <h3 style=\"color: #0078d7; margin: 30px 0 15px;\">高清显示</h3>\r\n                <img src=\"https://via.placeholder.com/800x300?text=Display\" style=\"width: 100%; margin-bottom: 15px;\">\r\n                <p style=\"line-height: 1.8; margin-bottom: 15px;\">2K高清分辨率屏幕，400nits亮度，细腻画质，无论是办公还是娱乐都能给您带来极佳的视觉体验。</p>\r\n                \r\n                <h3 style=\"color: #0078d7; margin: 30px 0 15px;\">轻薄便携</h3>\r\n                <img src=\"https://via.placeholder.com/800x300?text=Portable\" style=\"width: 100%; margin-bottom: 15px;\">\r\n                <p style=\"line-height: 1.8; margin-bottom: 15px;\">全金属机身，厚度仅17.9mm，重量1.38kg，随身携带无负担。56Wh大容量电池，支持全天续航。</p>\r\n              </div>\r\n            `,\r\n            comments: [\r\n              {\r\n                username: '用户123456',\r\n                avatar: '',\r\n                time: '2023-05-10 15:23',\r\n                rating: 5,\r\n                content: '非常满意这款笔记本电脑，性能很强，散热也不错，屏幕素质很高，很适合办公和轻度设计使用。',\r\n                images: [\r\n                  'https://via.placeholder.com/100x100?text=Comment+Image+1',\r\n                  'https://via.placeholder.com/100x100?text=Comment+Image+2'\r\n                ]\r\n              },\r\n              {\r\n                username: '科技爱好者',\r\n                avatar: '',\r\n                time: '2023-05-08 09:45',\r\n                rating: 4,\r\n                content: '整体还是很不错的，性能满足日常需求，不过风扇声音在高负载时有点大，希望后续优化。',\r\n                images: []\r\n              }\r\n            ],\r\n            commentCount: 2\r\n          }\r\n          \r\n          // 设置默认显示的图片\r\n          currentImage.value = product.value.images[0]\r\n          \r\n          // 设置默认选中的规格\r\n          if (product.value.specs) {\r\n            product.value.specs.forEach(spec => {\r\n              // 默认选中第一个非禁用的选项\r\n              const defaultOption = spec.options.find(opt => !opt.disabled)\r\n              if (defaultOption) {\r\n                selectedSpecs[spec.name] = defaultOption.value\r\n              }\r\n            })\r\n          }\r\n          \r\n          loading.value = false\r\n        }, 1000)\r\n        \r\n      } catch (error) {\r\n        console.error('获取商品详情失败:', error)\r\n        ElMessage.error('获取商品详情失败，请稍后重试')\r\n        loading.value = false\r\n      }\r\n    }\r\n    \r\n    // 加入购物车\r\n    const addToCart = () => {\r\n      // 构建商品数据\r\n      const cartItem = {\r\n        id: product.value.id,\r\n        name: product.value.name,\r\n        price: product.value.price,\r\n        image: product.value.images[0],\r\n        quantity: quantity.value,\r\n        attrs: { ...selectedSpecs },\r\n        stock: product.value.stock\r\n      }\r\n      \r\n      // 添加到购物车\r\n      store.dispatch('addToCart', cartItem)\r\n      \r\n      ElMessage({\r\n        type: 'success',\r\n        message: `已将 ${product.value.name} 加入购物车`\r\n      })\r\n    }\r\n    \r\n    // 立即购买\r\n    const buyNow = () => {\r\n      // 先加入购物车\r\n      addToCart()\r\n      \r\n      // 然后跳转到结算页面\r\n      router.push({\r\n        path: '/checkout',\r\n        query: { items: product.value.id }\r\n      })\r\n    }\r\n    \r\n    // 切换收藏状态\r\n    const toggleFavorite = () => {\r\n      isFavorite.value = !isFavorite.value\r\n      \r\n      ElMessage({\r\n        type: 'success',\r\n        message: isFavorite.value ? '已添加到收藏夹' : '已从收藏夹移除'\r\n      })\r\n    }\r\n    \r\n    onMounted(() => {\r\n      fetchProductDetail()\r\n    })\r\n    \r\n    return {\r\n      loading,\r\n      product,\r\n      currentImage,\r\n      selectedSpecs,\r\n      quantity,\r\n      activeTab,\r\n      isFavorite,\r\n      addToCart,\r\n      buyNow,\r\n      toggleFavorite\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.product-detail-page {\r\n  min-height: 100vh;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.breadcrumb {\r\n  padding: 15px 0;\r\n  font-size: 12px;\r\n  color: #666;\r\n}\r\n\r\n.loading-container {\r\n  background-color: white;\r\n  border-radius: 5px;\r\n  padding: 20px;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.product-container {\r\n  margin-bottom: 40px;\r\n}\r\n\r\n.product-overview {\r\n  display: flex;\r\n  gap: 40px;\r\n  background-color: white;\r\n  border-radius: 5px;\r\n  padding: 30px;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n/* 商品图片区域 */\r\n.product-gallery {\r\n  width: 450px;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.main-image {\r\n  width: 100%;\r\n  height: 450px;\r\n  margin-bottom: 15px;\r\n  border: 1px solid #eee;\r\n}\r\n\r\n.thumbnail-list {\r\n  display: flex;\r\n  gap: 10px;\r\n}\r\n\r\n.thumbnail-item {\r\n  width: 80px;\r\n  height: 80px;\r\n  border: 1px solid #ddd;\r\n  cursor: pointer;\r\n  transition: border-color 0.3s;\r\n}\r\n\r\n.thumbnail-item.active {\r\n  border-color: #0078d7;\r\n}\r\n\r\n.thumbnail-item img {\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: cover;\r\n}\r\n\r\n/* 商品信息区域 */\r\n.product-info {\r\n  flex: 1;\r\n}\r\n\r\n.product-name {\r\n  font-size: 24px;\r\n  margin-bottom: 10px;\r\n  color: #333;\r\n}\r\n\r\n.product-brief {\r\n  color: #666;\r\n  font-size: 14px;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.product-price-info {\r\n  background-color: #f9f9f9;\r\n  padding: 20px;\r\n  margin-bottom: 20px;\r\n  border-radius: 4px;\r\n}\r\n\r\n.price-section {\r\n  display: flex;\r\n  align-items: center;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.price-label {\r\n  width: 60px;\r\n  color: #666;\r\n}\r\n\r\n.current-price {\r\n  font-size: 28px;\r\n  font-weight: bold;\r\n  color: #f56c6c;\r\n  margin-right: 10px;\r\n}\r\n\r\n.original-price {\r\n  font-size: 14px;\r\n  color: #999;\r\n  text-decoration: line-through;\r\n}\r\n\r\n.discount-info {\r\n  margin-left: 60px;\r\n}\r\n\r\n.specs-section {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.spec-item {\r\n  margin-bottom: 15px;\r\n}\r\n\r\n.spec-label {\r\n  margin-bottom: 8px;\r\n  font-size: 14px;\r\n  color: #666;\r\n}\r\n\r\n.spec-options {\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.quantity-section {\r\n  display: flex;\r\n  align-items: center;\r\n  margin-bottom: 30px;\r\n}\r\n\r\n.quantity-label {\r\n  margin-right: 15px;\r\n  color: #666;\r\n}\r\n\r\n.stock-info {\r\n  margin-left: 15px;\r\n  color: #999;\r\n  font-size: 14px;\r\n}\r\n\r\n.action-section {\r\n  display: flex;\r\n  gap: 15px;\r\n  margin-bottom: 30px;\r\n}\r\n\r\n.service-section {\r\n  display: flex;\r\n  gap: 25px;\r\n  padding-top: 20px;\r\n  border-top: 1px solid #eee;\r\n}\r\n\r\n.service-item {\r\n  display: flex;\r\n  align-items: center;\r\n  color: #666;\r\n  font-size: 14px;\r\n}\r\n\r\n.service-item .el-icon {\r\n  margin-right: 5px;\r\n  color: #0078d7;\r\n}\r\n\r\n/* 详情选项卡 */\r\n.product-detail-tabs {\r\n  background-color: white;\r\n  border-radius: 5px;\r\n  padding: 20px;\r\n}\r\n\r\n.product-detail-content {\r\n  padding: 20px 0;\r\n}\r\n\r\n.product-specs-content {\r\n  padding: 20px 0;\r\n}\r\n\r\n/* 评论区域 */\r\n.comment-item {\r\n  border-bottom: 1px solid #eee;\r\n  padding: 20px 0;\r\n}\r\n\r\n.comment-user {\r\n  display: flex;\r\n  align-items: center;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.comment-avatar {\r\n  margin-right: 10px;\r\n}\r\n\r\n.comment-user-info {\r\n  margin-right: auto;\r\n}\r\n\r\n.comment-username {\r\n  font-weight: bold;\r\n  margin-bottom: 3px;\r\n}\r\n\r\n.comment-time {\r\n  font-size: 12px;\r\n  color: #999;\r\n}\r\n\r\n.comment-content {\r\n  margin-bottom: 10px;\r\n  line-height: 1.6;\r\n}\r\n\r\n.comment-images {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 10px;\r\n}\r\n\r\n.comment-image {\r\n  width: 80px;\r\n  height: 80px;\r\n  border-radius: 4px;\r\n  object-fit: cover;\r\n}\r\n</style> "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}